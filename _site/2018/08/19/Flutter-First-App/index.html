<!DOCTYPE html>
<html>
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Flutter My First demo application &#8211; Sagar R Kothari</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Passionate and enthusiastic iOS application developer having 8 years of experience.">
    <meta name="robots" content="all">
    <meta name="author" content="">
    
    <meta name="keywords" content="CodeSnippet">
    <link rel="canonical" href="http://localhost:4000/2018/08/19/Flutter-First-App/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Sagar R Kothari" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?201810231918" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    

    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Flutter My First demo application">
    <meta property="og:description" content="Passionate and enthusiastic iOS application developer having 8 years of experience.">
    <meta property="og:url" content="http://localhost:4000/2018/08/19/Flutter-First-App/">
    <meta property="og:site_name" content="Sagar R Kothari">
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
    <meta name="twitter:title" content="Flutter My First demo application" />
    <meta name="twitter:description" content="Passionate and enthusiastic iOS application developer having 8 years of experience." />
    <meta name="twitter:url" content="http://localhost:4000/2018/08/19/Flutter-First-App/" />
    

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    
</head>

<body class="site">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="http://localhost:4000" class="site-title">Sagar R Kothari</a>
      <nav class="site-nav">
        



    
    
    
    

    

    
    
    
    
        <a href="/Archive/">Archive</a>
    

    

    
    
    
    
        <a href="/Categories/">Categories</a>
    

    

    
    
    
    
        <a href="/Tags/">Tags</a>
    

    

    
    
    
    
        <a href="/about/">About</a>
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    

    
    
    
    

    


      </nav>
      <div class="clearfix"></div>
      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Flutter My First demo application</h1>
  <span class="post-meta">August 19, 2018</span><br>
  
  <span class="post-meta small">
  
    3 
  
  </span>
</div>

<article class="post-content">
  <h2 id="download-source-code"><a href="https://github.com/sag333ar/DartFetchPicsExample">Download Source code</a></h2>

<hr />

<h2 id="sample-screen-shots">Sample Screen shots</h2>

<p><img src="http://localhost:4000/assets/2018-08-19/Screenshot_1534729780.png" alt="Demo Output for Android" />
<img src="http://localhost:4000/assets/2018-08-19/ScreenShot_2018-08-20_7.33.56.png" alt="Demo Output for iOS" /></p>

<h3 id="main-file">Main file</h3>

<p>File Location - <code class="highlighter-rouge">pics/lib/main.dart</code></p>

<div class="language-dart highlighter-rouge"><pre class="highlight"><code><span class="c1">// It imports material from flutter package</span>
<span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="c1">// It imports app class from src folder. This file is added below.</span>
<span class="kn">import</span> <span class="s">'src/app.dart'</span><span class="o">;</span>

<span class="c1">// Main function - from where app launches.</span>
<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// in order to launch app use runApp function.</span>
  <span class="c1">// it accepts `MaterialApp` as an argument.</span>
  <span class="n">runApp</span><span class="o">(</span><span class="k">new</span> <span class="n">App</span><span class="o">());</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Here <code class="highlighter-rouge">runApp</code> function takes an instance of <code class="highlighter-rouge">MaterialApp</code> as an argument.
Weâ€™ve created an instance of <code class="highlighter-rouge">App</code> class, which returns <code class="highlighter-rouge">MaterialApp</code> widget.</p>

<hr />

<h3 id="app-class-in-appdart-file"><code class="highlighter-rouge">App</code> class in <code class="highlighter-rouge">app.dart</code> file.</h3>

<p>Following is <code class="highlighter-rouge">app.dart</code> file which has <code class="highlighter-rouge">App</code> class.
File Location - <code class="highlighter-rouge">pics/lib/src/main.dart</code></p>

<div class="language-dart highlighter-rouge"><pre class="highlight"><code><span class="c1">// It imports material from flutter package</span>
<span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>

<span class="c1">// It only imports get function from http from http-package.</span>
<span class="c1">// It is used here to make GET calls.</span>
<span class="kn">import</span> <span class="s">'package:http/http.dart'</span> <span class="kd">show</span> <span class="kd">get</span><span class="o">;</span>

<span class="c1">// It imports model class from models folder. This file is added below.</span>
<span class="kn">import</span> <span class="s">'models/image_model.dart'</span><span class="o">;</span>

<span class="c1">// It imports dart standard library. It is used here for JSON to object conversion.</span>
<span class="kn">import</span> <span class="s">'dart:convert'</span><span class="o">;</span>

<span class="c1">// It imports `ImageList` class from widgets folder.</span>
<span class="c1">// This is used here to create custom widget.</span>
<span class="kn">import</span> <span class="s">'widgets/image_list.dart'</span><span class="o">;</span>

<span class="c1">// Following `App` class is a `StatefulWidget` provider.</span>
<span class="c1">// It generates `StatefulWidget` with instance of `AppState` class which is defined below.</span>
<span class="kd">class</span> <span class="nc">App</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>

  <span class="c1">// required to override following method</span>
  <span class="nd">@override</span>
  <span class="n">createState</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// It should return a state-based-widget.</span>
    <span class="k">return</span> <span class="n">AppState</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="appstate-class-in-appdart-file"><code class="highlighter-rouge">AppState</code> class in <code class="highlighter-rouge">app.dart</code> file.</h3>

<p>File Location - <code class="highlighter-rouge">pics/lib/src/main.dart</code></p>

<div class="language-dart highlighter-rouge"><pre class="highlight"><code><span class="c1">// `AppState class basically creates a widget as a state.</span>
<span class="c1">// It provides widget to `App` class.</span>
<span class="c1">// It holds variable which changes, for example, </span>
<span class="kd">class</span> <span class="nc">AppState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">App</span><span class="o">&gt;</span> <span class="o">{</span>

  <span class="c1">// On click, counter will be increased</span>
  <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="c1">// A list of Custom Models for images which we will receive from server</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">ImageModel</span><span class="o">&gt;</span> <span class="n">imageModels</span> <span class="o">=</span> <span class="o">[];</span>

  <span class="c1">// An async function which will fetch image data from server with get request.</span>
  <span class="kt">void</span> <span class="n">fetchImage</span><span class="o">()</span> <span class="n">async</span> <span class="o">{</span>
    <span class="c1">// counter is increased by 1.</span>
    <span class="n">count</span><span class="o">++;</span>
    <span class="c1">// we're trying to get image model using count</span>
    <span class="c1">// e.g. https://jsonplaceholder.typicode.com/photos/1</span>
    <span class="kd">final</span> <span class="n">result</span> <span class="o">=</span> <span class="n">await</span> <span class="kd">get</span><span class="o">(</span><span class="s">'https://jsonplaceholder.typicode.com/photos/</span><span class="si">$count</span><span class="s">'</span><span class="o">);</span>
    <span class="c1">// Creating new instance of `ImageModel` from JSON response</span>
    <span class="kd">final</span> <span class="n">model</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImageModel</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">json</span><span class="o">.</span><span class="na">decode</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">body</span><span class="o">));</span>

    <span class="c1">// With following function, we're asking to UI to reload with new Data.</span>
    <span class="n">setState</span><span class="o">(()</span> <span class="o">{</span>
      <span class="c1">// Update image models List.</span>
      <span class="n">imageModels</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">model</span><span class="o">);</span>
    <span class="o">});</span>

  <span class="o">}</span>

  <span class="c1">// Following method builds the actual User Interface.</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// We're creatng an instance of `MaterialApp` widget</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">MaterialApp</span><span class="o">(</span>
      <span class="c1">// For home, we're creating &amp; supplying `Scaffold` type widget</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="o">(</span>
          <span class="c1">// For body, we're creating `ImageList` type widget. </span>
          <span class="nl">body:</span> <span class="n">ImageList</span><span class="o">(</span><span class="n">imageModels</span><span class="o">),</span>
          <span class="c1">// For appBar, we're creating `AppBar` type widget.</span>
          <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="o">(</span>
            <span class="nl">title:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Yo ! Let's see some images."</span><span class="o">),</span>
          <span class="o">),</span>
          <span class="c1">// we're creating floatingActionButton here.</span>
          <span class="nl">floatingActionButton:</span> <span class="n">FloatingActionButton</span><span class="o">(</span>
            <span class="c1">// onPressed, we're invoking `fetchImage` async function.</span>
            <span class="nl">onPressed:</span> <span class="n">fetchImage</span><span class="o">,</span>
            <span class="c1">// with a custom add icon.</span>
            <span class="nl">child:</span> <span class="n">Icon</span><span class="o">(</span><span class="n">Icons</span><span class="o">.</span><span class="na">add</span><span class="o">),</span>
          <span class="o">),</span>
        <span class="o">),</span>
    <span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre>
</div>

<hr />

<h3 id="custom-widget---image-list">Custom Widget - Image List</h3>

<p>File Location - <code class="highlighter-rouge">pics/lib/src/widgets/image_list.dart</code></p>

<div class="language-dart highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'../models/image_model.dart'</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">ImageList</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
  <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ImageModel</span><span class="o">&gt;</span> <span class="n">imageModels</span><span class="o">;</span>

  <span class="n">ImageList</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">imageModels</span><span class="o">);</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
      <span class="nl">itemCount:</span> <span class="n">imageModels</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
      <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">buildImageContainer</span><span class="o">(</span><span class="n">imageModels</span><span class="o">[</span><span class="n">index</span><span class="o">]);</span>
      <span class="o">},</span>
    <span class="o">);</span>
  <span class="o">}</span>

  <span class="n">Widget</span> <span class="n">buildImageContainer</span><span class="o">(</span><span class="n">ImageModel</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
      <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
          <span class="nl">border:</span> <span class="n">Border</span><span class="o">.</span><span class="na">all</span><span class="o">(</span>
              <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">grey</span>
          <span class="o">),</span>
      <span class="o">),</span>
      <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="mf">20.0</span><span class="o">),</span>
      <span class="nl">margin:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="mf">20.0</span><span class="o">),</span>
      <span class="nl">child:</span> <span class="n">buildColumnChild</span><span class="o">(</span><span class="n">model</span><span class="o">)</span>
    <span class="o">);</span>
  <span class="o">}</span>

  <span class="n">Widget</span> <span class="n">buildColumnChild</span><span class="o">(</span><span class="n">ImageModel</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Column</span><span class="o">(</span>
      <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
        <span class="n">Padding</span><span class="o">(</span>
          <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">only</span><span class="o">(</span>
            <span class="nl">bottom:</span> <span class="mf">10.0</span><span class="o">,</span>
          <span class="o">),</span>
          <span class="nl">child:</span> <span class="n">Image</span><span class="o">.</span><span class="na">network</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="na">url</span><span class="o">),</span>
        <span class="o">),</span>
        <span class="n">Text</span><span class="o">(</span>
          <span class="n">model</span><span class="o">.</span><span class="na">title</span><span class="o">,</span>
          <span class="nl">textAlign:</span> <span class="n">TextAlign</span><span class="o">.</span><span class="na">center</span><span class="o">,</span>
        <span class="o">)</span>
      <span class="o">],</span>
    <span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>

</code></pre>
</div>

<hr />

<h3 id="data-model---image">Data Model - Image</h3>

<p>File Location - <code class="highlighter-rouge">pics/lib/src/models/image_model.dart</code></p>

<div class="language-dart highlighter-rouge"><pre class="highlight"><code>
<span class="kd">class</span> <span class="nc">ImageModel</span> <span class="o">{</span>

  <span class="kt">int</span> <span class="n">albumId</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
  <span class="kt">String</span> <span class="n">title</span><span class="o">;</span>
  <span class="kt">String</span> <span class="n">url</span><span class="o">;</span>
  <span class="kt">String</span> <span class="n">thumbnailUrl</span><span class="o">;</span>

  <span class="n">ImageModel</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">albumId</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">id</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">url</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">thumbnailUrl</span><span class="o">);</span>

  <span class="n">ImageModel</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;</span> <span class="n">parsedJson</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">albumId</span> <span class="o">=</span> <span class="n">parsedJson</span><span class="o">[</span><span class="s">'albumId'</span><span class="o">];</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">parsedJson</span><span class="o">[</span><span class="s">'id'</span><span class="o">];</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">parsedJson</span><span class="o">[</span><span class="s">'title'</span><span class="o">];</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">parsedJson</span><span class="o">[</span><span class="s">'url'</span><span class="o">];</span>
    <span class="n">thumbnailUrl</span> <span class="o">=</span> <span class="n">parsedJson</span><span class="o">[</span><span class="s">'thumbnailUrl'</span><span class="o">];</span>
  <span class="o">}</span>

  <span class="nd">@override</span>
  <span class="kt">String</span> <span class="n">toString</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">"{</span><span class="se">\n\t</span><span class="s">albumId: </span><span class="si">$albumId</span><span class="se">\n\t</span><span class="s">id: </span><span class="si">$id</span><span class="se">\n\t</span><span class="s">title: </span><span class="si">$title</span><span class="se">\n\t</span><span class="s">url: </span><span class="si">$url</span><span class="se">\n\t</span><span class="s">thumbnailUrl: </span><span class="si">$thumbnailUrl</span><span class="se">\n</span><span class="s">}"</span><span class="o">;</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre>
</div>

</article>








  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'sagarrkothari-com';
    var disqus_identifier = '/2018/08/19/Flutter-First-App';
    var disqus_title      = "Flutter My First demo application";

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>
    </div>
  </div>

  <footer class="center">
<!--	
  <div class="measure">
    <small>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">GitHub</a>.
    </small>
  </div>
-->
</footer>


</body>
</html>
